# =============================================================================
# Substack Intelligence Platform - Environment Configuration
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# For production deployment, configure these in your hosting platform

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment (development, test, production)
NODE_ENV=development

# Application URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Supabase Database
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Alternative name (some services use this)
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# =============================================================================
# AUTHENTICATION & AUTHORIZATION
# =============================================================================

# Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_live_your-clerk-publishable-key
CLERK_SECRET_KEY=sk_live_your-clerk-secret-key

# Clerk redirect URLs (customize as needed)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# =============================================================================
# EXTERNAL APIs
# =============================================================================

# Anthropic Claude AI (Required)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# OpenAI (Optional - for additional AI features)
OPENAI_API_KEY=sk-your-openai-api-key

# Google OAuth for Gmail Access (Required for Gmail integration)
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_REFRESH_TOKEN=your-google-refresh-token

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Axiom Logging (Required for production)
AXIOM_TOKEN=xaat-your-axiom-token
AXIOM_DATASET=substack-intelligence
AXIOM_ORG_ID=your-axiom-org-id

# Enable/disable Axiom logging
AXIOM_ENABLED=true

# =============================================================================
# EMAIL SERVICES
# =============================================================================

# Resend Email Service (for notifications and reports)
RESEND_API_KEY=re_your-resend-api-key

# Report Recipients (comma-separated email addresses)
REPORT_RECIPIENTS=admin@yourcompany.com,alerts@yourcompany.com

# Legacy: SendGrid (if using instead of Resend)
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# =============================================================================
# RATE LIMITING & CACHING
# =============================================================================

# Upstash Redis (for rate limiting and caching)
UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-redis-token

# =============================================================================
# BACKGROUND JOBS & SCHEDULING
# =============================================================================

# Inngest Background Jobs
INNGEST_EVENT_KEY=your-inngest-event-key
INNGEST_SIGNING_KEY=your-inngest-signing-key

# Cron job security (required for scheduled tasks)
CRON_SECRET=your-random-32-character-cron-secret

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Encryption Key (REQUIRED for production - exactly 32 characters)
ENCRYPTION_KEY=your-exactly-32-character-key-here

# Webhook Security
WEBHOOK_SECRET=your-webhook-verification-secret

# NextAuth (if using)
NEXTAUTH_SECRET=your-nextauth-secret-for-jwt-encryption
NEXTAUTH_URL=https://yourdomain.com

# =============================================================================
# FEATURE FLAGS & OPTIONAL SERVICES
# =============================================================================

# Feature toggles
ENABLE_MONITORING=true
ENABLE_ANALYTICS=true
ENABLE_ERROR_TRACKING=true

# Debug mode (should be false in production)
DEBUG=false

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

# SSL settings (development only)
NODE_TLS_REJECT_UNAUTHORIZED=1

# Test configuration
PLAYWRIGHT_TEST=false
TEST_TIMEOUT=60000
TEST_RETRIES=2
TEST_PARALLEL_WORKERS=4
TEST_HEADLESS=true

# Test user credentials (development/test only)
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=TestPassword123!

# =============================================================================
# PRODUCTION DEPLOYMENT NOTES
# =============================================================================

# 1. Generate secure random values for all secrets using:
#    openssl rand -base64 32

# 2. Set NODE_ENV=production for production deployments

# 3. Ensure ENCRYPTION_KEY is exactly 32 characters for AES-256

# 4. Use environment-specific URLs and keys (not test/development keys)

# 5. Enable monitoring and error tracking in production

# 6. Set DEBUG=false in production

# 7. Configure rate limiting with appropriate Redis instance

# 8. Set up proper backup and monitoring for critical services